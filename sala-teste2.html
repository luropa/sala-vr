<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <title>Sala de Estudo com Teclado Virtual e Movimento por Gaze</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('gaze-listener-jogo', {
        init: function () {
          let timeout;
          this.el.addEventListener('mouseenter', () => {
            timeout = setTimeout(() => {
              const camera = document.querySelector('#cameraRig');
              camera.setAttribute('animation__move', {
                property: 'position',
                to: '1.5 1.6 -2', // Câmera se move para 2 metros em frente ao jogo
                dur: 2000,
                easing: 'easeInOutQuad'
              });
            }, 2000); // 2 segundos de olhar fixo
          });
          this.el.addEventListener('mouseleave', () => {
            clearTimeout(timeout);
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <!-- Câmera -->
      <a-entity id="cameraRig" position="0 1.6 4.5">
        <a-camera wasd-controls-enabled="false"></a-camera>
      </a-entity>

      <!-- Sala -->
      <a-box position="0 0 -5" width="10" height="5" depth="0.1" color="#ffffff"></a-box> <!-- Parede da frente -->
      <a-box position="0 0 5" width="10" height="5" depth="0.1" color="#cccccc"></a-box> <!-- Parede de trás -->
      <a-box position="-5 0 0" width="0.1" height="5" depth="10" color="#cccccc"></a-box> <!-- Parede esquerda -->
      <a-box position="5 0 0" width="0.1" height="5" depth="10" color="#cccccc"></a-box> <!-- Parede direita -->
      <a-plane position="0 -2.5 0" rotation="-90 0 0" width="10" height="10" color="#e6e6e6"></a-plane> <!-- Piso -->
      <a-plane position="0 2.5 0" rotation="90 0 0" width="10" height="10" color="#f2f2f2"></a-plane> <!-- Teto -->

      <!-- Porta na parede da frente -->
      <a-box position="-2 0 -4.95" width="1" height="2" depth="0.05" color="#888888"></a-box>

      <!-- Imagem do jogo-da-velha à direita da porta -->
      <a-image src="#jogo" position="1.5 1 -4.94" width="1.2" height="1.2" gaze-listener-jogo></a-image>

      <!-- Assets -->
      <a-assets>
        <img id="jogo" src="jogo-da-velha-feltro2.png" crossorigin="anonymous">
      </a-assets>
    </a-scene>
  </body>
</html>
